context:
    - name: stm32f4
      parent: stm32
      env:
          CFLAGS:
              - -mcpu=cortex-m4
              - -mfloat-abi=soft
              - -DRIOT_MCU=\"stm32f4\"
              - -DCPU_STM32F4
              - -DCPU_FAM_STM32F4
              - -DCPU_ARCH_CORTEX_M4F
              - -I${relpath}/include
          LINKFLAGS:
              - -Tstm32_common.ld
              - -Wl,--defsym=_rom_start_addr=0x08000000
              - -Wl,--defsym=_ram_start_addr=0x20000000
      disable:
          - periph_flashpage
          - periph_hwrng
          - periph_rtc

    - name: stm32f411re
      parent: stm32f4
      env:
          CFLAGS:
              - -DCPU_MODEL_STM32F411RE
              - -DCPU_LINE_STM32F411xE
              - -DSTM32F411xE
          ROM_LEN: "512K"
          RAM_LEN: "128K"

    - name: stm32f401re
      parent: stm32f4
      env:
          CFLAGS:
              - -DCPU_MODEL_STM32F401RE
              - -DCPU_LINE_STM32F401xE
              - -DSTM32F401xE
          ROM_LEN: "512K"
          RAM_LEN: "96K"

    - name: stm32f407vg
      parent: stm32f4
      env:
          CFLAGS:
              - -DCPU_MODEL_STM32F407VG
              - -DCPU_LINE_STM32F407xx
              - -DSTM32F407xx
          ROM_LEN: "1024K"
          RAM_LEN: "192K"

module:
    - name: cpu/stm32f4
      context: stm32f4
      sources:
        - vectors.c
      depends:
        - stm32_common
        - periph_common

subdirs:
    - periph

