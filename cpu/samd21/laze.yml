context:
    name: samd21
    parent: sam0
    vars:
        CFLAGS:
            - -mcpu=cortex-m0plus
            - -march=armv6s-m
            - -mfloat-abi=soft
            - -I${relpath}/include
            - -DRIOT_MCU=\"samd21\"
            - -DCPU_SAMD21
            - -DCPU_FAM_SAMD21
            - -DCPU_ARCH_CORTEX_M0PLUS
        LINKFLAGS:
            - -Wl,--defsym=_rom_start_addr=0x00000000
            - -Wl,--defsym=_ram_start_addr=0x20000000
        EDBG_TARGET_TYPE:
            - -t atmel_cm0p

module:
    name: cpu/samd21
    context: samd21

    sources:
        - cpu.c
        - vectors.c

    depends:
        - core
        - cortexm
        - periph_common

subdirs:
    - periph

---
context:
    - name: samd21g18a
      parent: samd21
      vars:
          CFLAGS:
              - -DCPU_MODEL_SAMD21G18A
          LINKFLAGS:
              - -Wl,--defsym=_rom_length=0x40000
              - -Wl,--defsym=_ram_length=0x8000

    - name: samd21j18a
      parent: samd21
      vars:
          CFLAGS:
              - -DCPU_MODEL_SAMD21J18A
          LINKFLAGS:
              - -Wl,--defsym=_rom_length=0x40000
              - -Wl,--defsym=_ram_length=0x8000
