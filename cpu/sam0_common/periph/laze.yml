defaults:
  module:
    context: sam0
    depends:
      - periph_common
      - board

modules:
  - name: periph_adc
    sources: [adc.c]
  - name: periph_cpuid
    sources: [cpuid.c]
  - name: periph_flashpage
    sources: [flashpage.c]
    env:
      local:
        CFLAGS:
          - -Wno-array-bounds
          - -Wno-stringop-overread

  - name: periph_flashpage_pagewise
  - name: periph_i2c
    sources: [i2c.c]

  - name: periph_rtc
    depends:
      - periph_rtc_rtt

  - name: periph_rtt
    depends:
      - periph_rtc_rtt
    conflicts:
      - periph_rtc
      - ztimer_periph_rtt

  - name: periph_rtc_rtt
    depends:
      - rtc_utils
    sources: [rtc_rtt.c]

  - name: periph_pwm
    sources:
      - pwm.c

  - name: periph_spi
    sources: [spi.c]
    depends:
      - periph_spi_gpio_mode
    uses:
      - periph_dma
      - periph_spi_on_qspi
  - name: periph_timer
    sources: [timer.c]
  - name: periph_gpio
    sources: [gpio.c]
    uses: [periph_gpio_irq]
  - name: periph_gpio_irq
    depends: [ periph_gpio ]
  - name: periph_hwrng
    depends: [ feature/periph_hwrng ]
  - name: periph_uart
    sources:
      - uart.c
    uses:
      - periph_uart_modecfg
      - periph_uart_nonblocking
      - sam0_periph_uart_hw_fc

  - name: sam0_periph_uart_hw_fc
