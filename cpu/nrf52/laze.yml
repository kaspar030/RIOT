contexts:
    - name: nrf52
      parent: nrf5x
      env:
          LINKFLAGS:
            - -L${relpath}/ldscripts
            - -Wl,--defsym=_rom_start_addr=0x00000000
            - -Wl,--defsym=_ram_start_addr=0x20000000
          includes:
              - ${relpath}/include
              - ${relpath}/include/vendor
          CFLAGS_ARCH:
            - -mcpu=cortex-m4
            - -mfloat-abi=hard
            - -mfpu=fpv4-sp-d16
          CFLAGS_DEFINES:
            - -DCPU_FAM_NRF52
            - -DCPU_CORE_CORTEX_M4F

          RIOTBOOT_LEN: "0x4000"
          ARM_MATH: -DARM_MATH_CM4

    - name: nrf52832
      parent: nrf52
      env:
        CFLAGS_DEFINES:
            - -DRIOT_MCU=\"nrf52832\"
            - -DCPU_NRF52832
            - -DCPU_MODEL_NRF52832XXAA
        ROM_LEN: "0x80000"
        SLOT0_LEN: "0x3f000"
        SLOT1_LEN: "0x3f000"
        RAM_LEN: "0x10000"

    - name: nrf52840
      parent: nrf52
      env:
        CFLAGS_DEFINES:
            - -DRIOT_MCU=\"nrf52840\"
            - -DCPU_NRF52840
            - -DCPU_MODEL_NRF52840XXAA
        ROM_LEN: "0x100000"
        SLOT0_LEN: "0x7f000"
        SLOT1_LEN: "0x7f000"
        RAM_LEN: "0x40000"

modules:
    - name: nrf52
      context: nrf52
      depends:
          - nrf5x
      sources:
          - cpu.c
          - spi_twi_irq.c

    - name: nrf52832
      context: nrf52832
      depends:
          - nrf52
      sources:
        - vectors/vectors_nrf52832xxaa.c

    - name: nrf52840
      context: nrf52840
      depends:
          - nrf52
      sources:
        - vectors/vectors_nrf52840xxaa.c

    - name: feature/ble_nimble
      context: nrf52

    - name: feature/cortexm_mpu
      context: nrf52

subdirs:
    - periph
