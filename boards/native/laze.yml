builder:
    name: native
    parent: cpu/native
    vars:
        CFLAGS:
            - -m32
            - -DRIOT_MCU=\"native\"
            - -DBOARD_NATIVE
            - -I${relpath}/include
            - remove:
              - -Os
        LINKFLAGS: [ -m32 ]
        libs: [ -ldl, -lm ]

defaults:
  module:
    context: native

module:
  - name: board
    sources:
      - board_init.c
    depends:
        - native-drivers
        - cpu/native
        - core
        - periph_common
    uses:
        - mtd
        - motor_driver

  - name: feature/motor_driver
  - name: feature/cpp
    global_vars:
      LINK:
        - remove: gcc
        - g++

subdirs: drivers
