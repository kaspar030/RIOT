builders:
  - name: native
    parent: cpu/native
    env:
      #FIX
      #CFLAGS:
      #      - remove:
      #        - -Os
        CFLAGS_ARCH:
          - -m32
        CFLAGS_DEFINES:
          - -DRIOT_MCU=\"native\"
          - -DBOARD_NATIVE
        LINKFLAGS:
          - -z notext
        includes:
          - ${relpath}/include
        libs:
          - -ldl
          - -lm

defaults:
  module:
    context: native

modules:
  - name: board
    sources:
      - board_init.c
    depends:
        - native-drivers
        - cpu/native
        - core
        - periph_common
    uses:
        - mtd
        - motor_driver
        - periph_qdec

  - name: feature/motor_driver
  - name: feature/cpp
    env:
     global:
      LINK:
        g++

subdirs:
  - drivers
