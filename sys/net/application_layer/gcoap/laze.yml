modules:
  - name: gcoap
    sources:
      - gcoap.c
    depends:
      - nanocoap
      - gnrc_sock_udp
      - gnrc_sock_async
      - sock_async_event
      - sock_aux_local
      - sock_util
      - event_timeout_ztimer
      - event_callback
      - ztimer_usec
    uses:
      - gcoap_dtls
      - gcoap_forward_proxy
      - nanocoap_cache

  - name: gcoap_dtls
    depends:
      - gcoap

  - name: gcoap_forward_proxy
    sources:
      - forward_proxy.c
    depends:
      - gcoap
    uses:
      - nanocoap_cache

  - name: gcoap_fileserver
    sources:
      - fileserver.c
    depends:
      - gcoap

  - name: gcoap_fileserver_put
    depends:
      - gcoap_fileserver

  - name: gcoap_fileserver_delete
    depends:
      - gcoap_fileserver

  - name: gcoap_dns
    depends:
      - gcoap
    sources:
      - dns.c
    uses:
      - dns_cache
      - gcoap_dns_proxied
      - gcoap_dtls
      - sock_dns

  - name: gcoap_dns_proxied
    depends:
      - gcoap_dns
