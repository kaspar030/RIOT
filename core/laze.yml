modules:
  - name: core
    sources:
      - cond.c
      - mutex.c
      - sched.c
      - thread.c
    depends:
      - board
      - ?core_thread
      - core_lib
      - ?core_msg
      - ?periph_pm
    selects:
      - ?core_init
      - ?core_panic
    uses:
      - core_thread
      - core_idle_thread
      - core_msg
      - core_mbox
      - core_mutex_priority_inheritance
      - core_thread_flags
      - mpu_stack_guard
      - sched_cb

  - name: core_thread
  - name: core_idle_thread
  - name: core_mutex_priority_inheritance

  - name: core_msg
    sources:
      - msg.c
    uses:
      - core

  - name: core_msg_bus
    sources:
      - msg_bus.c
    uses:
      - core

  - name: core_mbox
    sources:
      - mbox.c
    uses:
      - core

  - name: core_thread_flags
    sources:
      - thread_flags.c
    uses:
      - core

  - name: sched_cb

subdirs:
  - lib
